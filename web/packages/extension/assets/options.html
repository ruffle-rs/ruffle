<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Ruffle Settings</title>
        <link rel="icon" type="image/png" href="images/icon32.png" />
        <link rel="stylesheet" href="css/common.css" />
        <link rel="stylesheet" href="css/form.css" />
        <link rel="stylesheet" href="css/options.css" />
    </head>
    <body>
        <div class="header">
            <a href="https://ruffle.rs/" target="_blank">
                <img src="images/logo.svg" alt="Ruffle" data-canonical-src="images/logo.svg" class="logo" />
            </a>
            <div id="version-text">nightly YYYY-MM-DD</div>
        </div>

        <div class="container" >
            <h2 class="option-title">Global Settings</h2>

            <div class="form-element option">
                <label class="form-label" for="ruffle_enable">Play Flash content in Ruffle</label>
                <div class="form-type-switch">
                    <input type="checkbox" id="ruffle_enable"/>
                    <div class="slider"></div>
                </div>
            </div>
            <div class="form-element option">
                <label class="form-label" for="show_swf_download">Show SWF download in context menu</label>
                <div class="form-type-switch">
                    <input type="checkbox" id="show_swf_download"/>
                    <div class="slider"></div>
                </div>
            </div>
            <div class="form-element option">
                <label class="form-label" for="autostart">Autoplay Flash content (click to unmute)</label>
                <div class="form-type-switch">
                    <input type="checkbox" id="autostart"/>
                    <div class="slider"></div>
                </div>
            </div>
            <div class="form-element option">
                <label class="form-label" for="swf_takeover">Play SWF files in browser instead of downloading</label>
                <div class="form-type-switch">
                    <input type="checkbox" id="swf_takeover"/>
                    <div class="slider"></div>
                </div>
            </div>

            <h2 class="option-title" id="advanced-options">Advanced Options</h2>

            <div class="form-element option">
                <label class="form-label" for="ignore_optout">Play Flash content even on sites that disallow Ruffle</label>
                <div class="form-type-switch">
                    <input type="checkbox" id="ignore_optout"/>
                    <div class="slider"></div>
                </div>
            </div>
            <div class="form-element option">
                <label class="form-label" for="log_level">Log level</label>
                <select class="form-type-text" id="log_level">
                    <option value="error" id="log_level_error">Error</option>
                    <option value="warn" id="log_level_warn">Warning</option>
                    <option value="info" id="log_level_info">Info</option>
                    <option value="debug" id="log_level_debug">Debug</option>
                    <option value="trace" id="log_level_trace">Trace</option>
                </select>
            </div>
            <div class="form-element option">
                <label class="form-label" for="preferred_renderer">Preferred renderer</label>
                <select class="form-type-text" id="preferred_renderer">
                    <option value="" id="preferred_renderer_auto">Automatic</option>
                    <option value="webgpu">WebGPU</option>
                    <option value="wgpu-webgl">wgpu (via WebGL)</option>
                    <option value="webgl">WebGL</option>
                    <option value="canvas">Canvas2D</option>
                </select>
            </div>
            <div class="form-element option">
                <label class="form-label" for="player_version">Flash player version number to emulate (range 1-32)</label>
                <input class="form-type-number" type="number" id="player_version" min="1" max="32" step="1" placeholder="32"/>
            </div>
            <div class="form-element option">
                <label class="form-label" for="max_execution_duration">Maximum allowed ActionScript execution duration (in seconds)</label>
                <input class="form-type-number" type="number" id="max_execution_duration" min="1" step="1"/>
            </div>

            <h2 class="option-title">Per-Site Options</h2>

            <p class="option-description">Override global options for specific websites.</p>

            <div class="per-site">
                <div id="per-site-list">
                    <div class="per-site-entry">
                        <span class="site-domain">example.com</span>
                        <div>
                            <button class="edit-site-btn">Edit</button>
                            <button class="remove-site-btn">Remove</button>
                        </div>
                    </div>

                    <div class="per-site-entry">
                        <span class="site-domain">example.com</span>
                        <div>
                            <button class="edit-site-btn">Edit</button>
                            <button class="remove-site-btn">Remove</button>
                        </div>
                    </div>
                </div>

                <button id="site-entry-new">Add New Site Rule</button>
            </div>

            <button id="reset-settings">Reset settings</button>
        </div>

        <div id="site-settings-modal" class="modal-overlay">
            <div class="modal-content">
                <div class="modal-header">
                    <div>
                        <h3>Site-Specific Settings</h3>
                        <small style="opacity:0.8;">Enable the switch to override the global setting for the website.</small>
                    </div>
                    <button class="modal-close-btn">&times;</button>
                </div>

                <div class="modal-body">
                    <div class="settings-option-control">
                        <label for="site-domain-input">Domain (e.g., example.com)</label>
                        <input type="text" id="site-domain-input" placeholder="domain.com">
                    </div>

                    <hr>

                    <p>Enable the switch to override the global setting for this site.</p>

                    <div class="settings-section">
                        <div id="settings-basic-playback">
                            <div class="settings-section-title">Basic Playback</div>
                        </div>

                        <div id="settings-display">
                            <div class="settings-section-title">Display</div>
                        </div>

                        <div id="settings-performance">
                            <div class="settings-section-title">Performance</div>
                        </div>

                        <div id="settings-player-configuration">
                            <div class="settings-section-title">Player Configuration</div>
                        </div>

                        <div id="settings-security-features">
                            <div class="settings-section-title">Security & Features</div>
                        </div>

                        <div id="settings-user-interface">
                            <div class="settings-section-title">User Interface</div>
                        </div>

                        <div id="settings-fullscreen-scaling">
                            <div class="settings-section-title">Fullscreen & Scaling</div>
                        </div>

                        <div id="settings-miscellaneous">
                            <div class="settings-section-title">Miscellaneous</div>
                        </div>
                    </div>

                </div>

                <div class="modal-footer">
                    <button id="modal-cancel-btn">Close</button>
                </div>
            </div>
        </div>

        <script src="dist/options.js"></script>
    </body>
</html>
